import{S as d,U as n,x as t}from"./index-bcc7b48f.js";async function l(s="discord"){const r=d(),o=s=="api"?"/api/discord/guilds/@me":"https://discord.com/api/v10/users/@me/guilds",e=s=="api"?`Bearer ${r.rawToken}`:s=="discord"?r.userType==n.discord?`Bearer ${r.discordAccessToken}`:new Error("Cannot load from discord: the token is not discord-based"):new Error("Undefined loadFrom");if(e instanceof Error)throw e;return(await t.get(o,{headers:{Authorization:e}})).data.filter(i=>(Number.parseInt(i.permissions)&8)==8)}export{l};
