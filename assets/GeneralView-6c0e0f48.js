import{useDiscordGuildStore as P}from"./discordGuild-b5bbb606.js";import{_ as f,k as H}from"./jwt-ffe93801.js";import{D as L,a as q}from"./DropdownComponent-6b6f811c.js";import{d as w,p as B,e as b,a8 as x,o as r,f as T,w as y,b as d,t as m,u as o,c as _,F as j,r as N,n as c,H as k,ad as I,ae as O,h as C,I as R,E as G,a2 as F}from"./runtime-core.esm-bundler-3e803943.js";import{v as z,T as V,L as Y}from"./LoadingComponent-55249104.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{o as J,u as K}from"./vue-router-1dd73624.js";import"./loadUserGuilds-86b1abe9.js";const Q={class:"title"},U=["onClick"],W=["src"],X={key:1,class:"name"},Z={key:2,class:"name"},ee={key:3,class:"value"},se=w({__name:"DropdownChooseComponent",props:{clickButtonTitle:null,dropdownContent:null,initChoosedElement:null,useChoosedElementAsTitle:{type:Boolean},refChoosedElement:null,position:null,elem_class:null,title_class:null,content_class:null,noHideOnClickContent:{type:Boolean},useArrow:{type:Boolean},arrowAnimationSide:null,disableArrowAnimation:{type:Boolean}},emits:["choose"],setup(n,{emit:a}){const s=n;B(!1);const t=b(()=>({position:s.position,elem_class:s.elem_class,title_class:s.title_class,content_class:s.content_class,noHideOnClickContent:s.noHideOnClickContent,useArrow:s.useArrow||!0,arrowAnimationSide:s.arrowAnimationSide,disableArrowAnimation:s.disableArrowAnimation})),{dropdownContent:l,refChoosedElement:i}=x(s),u=s.refChoosedElement&&i?i:B(f.cloneDeep(s.initChoosedElement||void 0));function $(h){if(!s.refChoosedElement||!(i!=null&&i.value))u.value=h,a("choose",f.cloneDeep(u.value));else{const g=h;a("choose",f.cloneDeep(g))}}return(h,g)=>(r(),T(L,I(O({...o(t)})),{dropdownTitle:y(()=>[d("span",Q,m(n.useChoosedElementAsTitle&&o(u)?typeof o(u)=="string"?o(u):o(u).name:n.clickButtonTitle),1)]),default:y(()=>[(r(!0),_(j,null,N(o(l),e=>(r(),_("div",{class:c(["dropdown_content_elem",o(f).isEqual(o(u),e)&&"choosed"]),key:typeof e=="string"?e:e.name,onClick:p=>$(e)},[typeof e!="string"&&e.icon?(r(),_("img",{key:0,class:"icon",src:e.icon},null,8,W)):k("",!0),typeof e!="string"&&e.name?(r(),_("span",X,m(e.name),1)):k("",!0),typeof e=="string"?(r(),_("span",Z,m(e),1)):k("",!0),typeof e!="string"&&e.value?(r(),_("span",ee,m(e.value),1)):k("",!0)],10,U))),128))]),_:1},16))}}),oe={class:"title"},ne=["onClick"],te={class:"element"},le=["src"],ae={key:1,class:"name"},ie={key:2,class:"name"},re={key:3,class:"value"},de=w({__name:"DropdownCheckboxComponent",props:{clickButtonTitle:null,dropdownContent:null,initChoosed:null,refChoosedElements:null,position:null,elem_class:null,title_class:null,content_class:null,noHideOnClickContent:{type:Boolean},useArrow:{type:Boolean},arrowAnimationSide:null,disableArrowAnimation:{type:Boolean}},emits:["choose"],setup(n,{emit:a}){const s=n;B(!1);const t=b(()=>({position:s.position,elem_class:s.elem_class,title_class:s.title_class,content_class:s.content_class,noHideOnClickContent:s.noHideOnClickContent,useArrow:s.useArrow||!0,arrowAnimationSide:s.arrowAnimationSide,disableArrowAnimation:s.disableArrowAnimation})),{dropdownContent:l,refChoosedElements:i}=x(s),u=s.refChoosedElements&&i&&typeof i.value<"u"?i:B(f.cloneDeep(s.initChoosed||[]));function $(h){const g=e=>(e=f.cloneDeep(e),e.filter(p=>f.isEqual(p,h))[0]?e=e.filter(p=>!f.isEqual(p,h)):e.push(h),e);if(!(i!=null&&i.value)||typeof i.value>"u")u.value=g(u.value),a("choose",f.cloneDeep(u.value));else{const e=g(i.value||[]);a("choose",f.cloneDeep(e))}}return(h,g)=>(r(),T(L,I(O({...o(t)})),{dropdownTitle:y(()=>[d("span",oe,m(n.clickButtonTitle),1)]),default:y(()=>[(r(!0),_(j,null,N(o(l),e=>(r(),_("div",{class:"dropdown_content_elem",key:typeof e=="string"?e:e.name,onClick:p=>$(e)},[d("i",{class:c(["checkbox",o(u).filter(p=>o(f).isEqual(p,e))[0]?"checked":"unchecked"])},null,2),d("div",te,[typeof e!="string"&&e.icon?(r(),_("img",{key:0,class:"icon",src:e.icon},null,8,le)):k("",!0),typeof e=="string"?(r(),_("span",ae,m(e),1)):(r(),_("span",ie,m(e.name),1)),typeof e!="string"&&e.value?(r(),_("span",re,m(e.value),1)):k("",!0)])],8,ne))),128))]),_:1},16))}}),ce=w({__name:"BaseInstance",props:{instanceName:null,instanceDescription:null,instanceBaseClass:null,instanceAboutClass:null,instanceBodyClass:null,hiddenable:{type:Boolean}},setup(n){const a=n,s=b(()=>a.hiddenable||!0),t=B(!s.value);return(l,i)=>(r(),_("div",{class:c([l.$style.instance,n.instanceBaseClass])},[d("div",{class:c([l.$style.instance_title,n.instanceAboutClass]),onClick:i[0]||(i[0]=u=>o(s)&&(t.value=!t.value))},[d("h2",{class:c(l.$style.title)},m(n.instanceName),3),d("p",{class:c(l.$style.description)},m(n.instanceDescription),3),d("div",{class:c(l.$style.dropdown_arrow)},[C(q,{"arrow-state-show":t.value,"arrow-animation-side":"left",width:"3px","side-size":"12px","animation-speed":"400ms"},null,8,["arrow-state-show"])],2)],2),C(V,null,{default:y(()=>[R(d("div",{class:c([l.$style.instance_body,n.instanceBodyClass])},[G(l.$slots,"default",{},void 0,!0)],2),[[z,t.value]])]),_:3})],2))}});const ue="_hover_1_5kjng_1",_e="_hover_2_5kjng_9",pe="_instance_5kjng_17",me="_row_5kjng_25",ve="_instance_title_5kjng_29",he="_title_5kjng_39",ge="_description_5kjng_43",fe="_dropdown_arrow_5kjng_47",ye="_instance_body_5kjng_52",Ce={hover_1:ue,hover_2:_e,instance:pe,row:me,instance_title:ve,title:he,description:ge,dropdown_arrow:fe,instance_body:ye},we={$style:Ce},$e=S(ce,[["__cssModules",we],["__scopeId","data-v-d9647f2a"]]),ke=w({__name:"SaveChanges",setup(n){const a=B(!1),s=B(),t=b({get(){return a.value},set(e){e?(a.value&&(clearTimeout(s.value),s.value=void 0),a.value=!0,s.value=setTimeout(()=>a.value=!1,820)):a.value=!1}}),l=P(),{guild:i,oldGuild:u}=H(l),{syncGuild:$,resetGuildChanges:h}=l,g=b(()=>!(!(i.value&&u.value)||f.isEqual(i.value,u.value)));return J(()=>{if(g.value)return t.value=!0,!1}),(e,p)=>(r(),T(V,null,{default:y(()=>[R(d("div",{class:c([e.$style.saveChangesAlert,o(t)&&e.$style["unsaved-changes-shake"]])},[d("div",{class:c(e.$style.unsavedText),onClick:p[0]||(p[0]=E=>t.value=!0)}," Careful! You have unsaved changes ",2),d("div",{class:c(e.$style.saveButtons)},[d("div",{class:c(e.$style.resetChangesButton),onClick:p[1]||(p[1]=(...E)=>o(h)&&o(h)(...E))}," Reset ",2),d("div",{class:c(e.$style.saveChangesButton),onClick:p[2]||(p[2]=(...E)=>o($)&&o($)(...E))}," Save changes ",2)],2)],2),[[z,o(g)]])]),_:1}))}}),Be="_hover_1_1c3ge_1",be="_hover_2_1c3ge_9",Ae="_saveChangesAlert_1c3ge_17",Ee="_saveButtons_1c3ge_17",De="_saveChangesButton_1c3ge_17",Te="_unsavedText_1c3ge_45",Se="_resetChangesButton_1c3ge_54",Me="_shake_1c3ge_1",je={hover_1:Be,hover_2:be,saveChangesAlert:Ae,saveButtons:Ee,saveChangesButton:De,unsavedText:Te,resetChangesButton:Se,"unsaved-changes-shake":"_unsaved-changes-shake_1c3ge_72",shake:Me};const Ge={$style:je},Pe=S(ke,[["__cssModules",Ge],["__scopeId","data-v-b3afed63"]]),He=w({__name:"BaseModule",props:{moduleName:null,moduleDescriprion:null,moduleBaseClass:null,moduleAboutClass:null,moduleBodyClass:null},setup(n){return(a,s)=>(r(),_(j,null,[d("div",{class:c(["discord-guild-module",[a.$style.module,n.moduleBaseClass]])},[d("div",{class:c([a.$style.module_about,n.moduleAboutClass])},[d("h1",null,m(n.moduleName),1),d("p",null,m(n.moduleDescriprion),1)],2),d("div",{class:c([a.$style.module_body,n.moduleBodyClass])},[G(a.$slots,"default")],2)],2),C(Pe)],64))}}),Le="_hover_1_1n47n_1",xe="_hover_2_1n47n_9",Ne="_module_1n47n_17",Ie="_module_about_1n47n_23",Oe="_module_body_1n47n_43",Re={hover_1:Le,hover_2:xe,module:Ne,module_about:Ie,module_body:Oe};const ze={$style:Re},Ve=S(He,[["__cssModules",ze]]),qe=w({__name:"BaseElement",props:{elementTitle:null,elementDescription:null,elementBaseClass:null,elementAboutClass:null,elementBodyClass:null,flexDirection:null,justifyContent:null},setup(n){const a=n,s=b(()=>a.flexDirection||"row"),t=b(()=>a.justifyContent||(s.value==="column"?"flex-start":"space-between"));return(l,i)=>(r(),_("div",{class:c(l.$style.element),style:F({flexDirection:o(s),justifyContent:o(t)})},[d("div",{class:c(l.$style.element_title)},[d("span",{class:c(l.$style.title)},m(n.elementTitle),3),n.elementDescription?(r(),_("span",{key:0,class:c(l.$style.description)},m(n.elementDescription),3)):k("",!0)],2),d("div",{class:c(l.$style.element_body)},[G(l.$slots,"default")],2)],6))}}),Fe="_hover_1_p9nfd_1",Ye="_hover_2_p9nfd_9",Je="_element_p9nfd_17",Ke="_row_p9nfd_25",Qe="_sbtw_p9nfd_29",Ue="_element_title_p9nfd_32",We="_title_p9nfd_39",Xe="_description_p9nfd_43",Ze={hover_1:Fe,hover_2:Ye,element:Je,row:Ke,sbtw:Qe,element_title:Ue,title:We,description:Xe},es={$style:Ze},M=S(qe,[["__cssModules",es]]),ss={key:0},os={key:1,style:{width:"100px",height:"100px","align-self":"center"}},ns=w({__name:"GeneralModule",setup(n){const a=[{name:"messageCreate",id:"messageCreate"}],s=P(),{guild:t,discordGuild:l}=H(s),{loadGuild:i,loadDiscordGuild:u,loadModule:$,updateModule:h,updateModuleProperty:g}=s,e=K(),p=typeof e.params.guild_id=="string"?e.params.guild_id:e.params.guild_id.join("");return t.value||i(p),l.value||u(p),(E,A)=>(r(),T(Ve,{"module-name":"General","module-descriprion":`        Bot general settings module. Here you can configure most of the
        important settings on your server.`},{default:y(()=>[o(l)&&o(t)?(r(),_("div",ss,[C($e,{"instance-name":"Logs","instance-description":"Here you can setup logs sending by bot"},{default:y(()=>[C(M,{"element-title":"Log channel:","element-description":"Please choose a log channel where bot may send logs"},{default:y(()=>[C(se,{clickButtonTitle:"Choose a channel",useChoosedElementAsTitle:!0,refChoosedElement:o(l).channels.filter(v=>v.id===(o(t)&&o(t).module_general?o(t).module_general.logChannel:void 0))[0],position:"bottom-right",dropdownContent:o(l).channels.filter(v=>v.type===0),onChoose:A[0]||(A[0]=v=>{o(s).updateModuleProperty("general","logChannel",typeof v=="string"?v:v.id)})},null,8,["refChoosedElement","dropdownContent"])]),_:1}),C(M,{"element-title":"Log types:","element-description":"Please select types of logs to handle:"},{default:y(()=>[C(de,{clickButtonTitle:"Choose types",refChoosedElements:o(t).module_general.logTypes?o(t).module_general.logTypes.map(v=>a.find(D=>D.id===v)||v):[],dropdownContent:a,position:"bottom-right","no-hide-on-click-content":!0,onChoose:A[1]||(A[1]=v=>{o(s).updateModuleProperty("general","logTypes",v.map(D=>typeof D=="string"?D:D.id))})},null,8,["refChoosedElements"])]),_:1}),C(M,{"element-title":"Log state:"},{default:y(()=>[d("div",{class:c(["state_checkbox",o(t).module_general.logEnabled?"enabled":"disabled"]),onClick:A[2]||(A[2]=v=>o(t)&&o(t).module_general&&(o(t).module_general.logEnabled?o(g)("general","logEnabled",!1):o(g)("general","logEnabled",!0)))},null,2)]),_:1})]),_:1})])):(r(),_("div",os,[C(Y,{"loader-type":"line"})]))]),_:1},8,["module-descriprion"]))}}),_s=w({__name:"GeneralView",setup(n){return(a,s)=>(r(),T(ns))}});export{_s as default};
