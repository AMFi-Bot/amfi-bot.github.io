import{x as t,y as e,m as n}from"./index-bbf8b0ea.js";async function d(o){const r=`localhost:6001/api/discord/guilds/auth/redirect?discordGuildId=${o}`,a=window.open(r,"","width=500,height=900");a&&(await new Promise(i=>{const s=setInterval(async()=>{a.closed&&(clearInterval(s),i(void 0))},500)}),t.push(`/discord/guilds/${o}`))}async function l(o){try{await e.get(`/api/discord/guilds/auth/callback?${o.replace(/^\?/,"")}`),window.close()}catch(r){console.error(r),n().addError("Oops something went wrong and we cannot load guild.")}}export{d as a,l};
