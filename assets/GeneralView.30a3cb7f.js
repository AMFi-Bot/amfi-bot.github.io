import{d as C,v as $,x as T,_ as h,y as B,z as E,o as t,e as i,f as l,n as w,t as f,b as s,F as S,p as L,h as v,A,B as G,C as P,q as N,D as V,E as y,g as b,c as M,L as j}from"./index.3cc67458.js";const z={class:"dropdown_elem"},F={class:"title"},H={class:"dropdown_content"},q=["onClick"],I=["src"],R={key:1,class:"name"},J={key:2,class:"name"},K={key:3,class:"value"},O=C({__name:"DropdownChooseComponent",props:{clickButtonTitle:null,dropdownContent:null,initChoosedElement:null,useChoosedElementAsTitle:{type:Boolean},refChoosedElement:null},emits:["choose"],setup(c,{emit:u}){const d=c,o=$(!1),{dropdownContent:m,refChoosedElement:p}=T(d),_=d.refChoosedElement&&p?p:$(h.cloneDeep(d.initChoosedElement||void 0));function g(r){if(!d.refChoosedElement||!p)_.value=r,u("choose",h.cloneDeep(_.value));else{const n=r;u("choose",h.cloneDeep(n))}}function k(){o.value=!1}return(r,n)=>{const a=B("click-away");return E((t(),i("div",z,[l("div",{class:"dropdown_title",onClick:n[0]||(n[0]=e=>o.value=!o.value),onFocusout:n[1]||(n[1]=e=>o.value=!o.value)},[l("i",{class:w(["dropdown_arrow",o.value?"dropdown_arrow_shown":"dropdown_arrow_hidden"])},null,2),l("span",F,f(c.useChoosedElementAsTitle&&s(_)?typeof s(_)=="string"?s(_):s(_).name:c.clickButtonTitle),1)],32),E(l("div",H,[(t(!0),i(S,null,L(s(m),e=>(t(),i("div",{class:w(["dropdown_content_elem",s(h).isEqual(s(_),e)&&"choosed"]),key:typeof e=="string"?e:e.name,onClick:D=>g(e)},[typeof e!="string"&&e.icon?(t(),i("img",{key:0,class:"icon",src:e.icon},null,8,I)):v("",!0),typeof e!="string"&&e.name?(t(),i("span",R,f(e.name),1)):v("",!0),typeof e=="string"?(t(),i("span",J,f(e),1)):v("",!0),typeof e!="string"&&e.value?(t(),i("span",K,f(e.value),1)):v("",!0)],10,q))),128))],512),[[A,o.value]])])),[[a,k]])}}}),Q={class:"dropdown_elem"},U={class:"title"},W={class:"dropdown_content"},X=["onClick"],Y={class:"element"},Z=["src"],ee={key:1,class:"name"},oe={key:2,class:"name"},se={key:3,class:"value"},ne=C({__name:"DropdownCheckboxComponent",props:{clickButtonTitle:null,dropdownContent:null,initChoosed:null,refChoosedElements:null},emits:["choose"],setup(c,{emit:u}){const d=c,o=$(!1),{dropdownContent:m,refChoosedElements:p}=T(d),_=d.refChoosedElements&&p&&typeof p.value<"u"?p:$(h.cloneDeep(d.initChoosed||[]));function g(r){const n=a=>(a=h.cloneDeep(a),a.filter(e=>h.isEqual(e,r))[0]?a=a.filter(e=>!h.isEqual(e,r)):a.push(r),a);if(!p||typeof p.value>"u")_.value=n(_.value),u("choose",h.cloneDeep(_.value));else{const a=n(p.value||[]);u("choose",h.cloneDeep(a))}}function k(){o.value=!1}return(r,n)=>{const a=B("click-away");return E((t(),i("div",Q,[l("div",{class:"dropdown_title",onClick:n[0]||(n[0]=e=>o.value=!o.value)},[l("i",{class:w(["dropdown_arrow",o.value?"dropdown_arrow_shown":"dropdown_arrow_hidden"])},null,2),l("span",U,f(c.clickButtonTitle),1)]),E(l("div",W,[(t(!0),i(S,null,L(s(m),e=>(t(),i("div",{class:"dropdown_content_elem",key:typeof e=="string"?e:e.name,onClick:D=>g(e)},[l("i",{class:w(["checkbox",s(_).filter(D=>s(h).isEqual(D,e))[0]?"checked":"unchecked"])},null,2),l("div",Y,[typeof e!="string"&&e.icon?(t(),i("img",{key:0,class:"icon",src:e.icon},null,8,Z)):v("",!0),typeof e=="string"?(t(),i("span",ee,f(e),1)):(t(),i("span",oe,f(e.name),1)),typeof e!="string"&&e.value?(t(),i("span",se,f(e.value),1)):v("",!0)])],8,X))),128))],512),[[A,o.value]])])),[[a,k]])}}}),te={class:"instance"},le=l("div",{class:"instance_title"},[l("span",{class:"title"},"Logs"),l("span",{class:"description"},"Here you can setup logs sending by bot")],-1),ae={class:"instance_body"},ie=C({__name:"BaseInstance",props:{instanceName:null,instanceDescription:null},setup(c){return(u,d)=>(t(),i("div",te,[le,l("div",ae,[G(u.$slots,"default")])]))}}),ce={class:"subinstance_title"},de={class:"title"},re={key:0,class:"description"},ue={class:"subinstance_body"},x=C({__name:"SubInstance",props:{subinstanceTitle:null,subinstanceDescription:null,flexDirectrion:null,justifyContent:null},setup(c){return(u,d)=>(t(),i("div",{class:"subinstance",style:P(`flex-direction: ${c.flexDirectrion||"row"}; justify-content: ${c.justifyContent||(c.flexDirectrion==="column"?"flex-start":"space-between")}`)},[l("div",ce,[l("span",de,f(c.subinstanceTitle),1),c.subinstanceDescription?(t(),i("span",re,f(c.subinstanceDescription),1)):v("",!0)]),l("div",ue,[G(u.$slots,"default")])],4))}}),_e={class:"general module"},pe=l("div",{class:"module_about"},[l("h1",null,"General"),l("p",null," Bot general settings module. Here you can configure most of the important settings on your server. ")],-1),he={key:0,class:"module_body"},fe=C({__name:"GeneralModule",setup(c){const u=[{name:"messageCreate",id:"messageCreate"}],d=N(),{guild:o,loading:m}=V(d),{loadModule:p,updateModule:_,updateModuleProperty:g}=d;if(!o)throw Error("Guild not loaded");return o.value&&!o.value.module_general&&p("general"),(k,r)=>(t(),i("div",_e,[pe,s(o)&&s(o).module_general?(t(),i("div",he,[y(ie,{"instance-name":"Logs","instance-description":"Here you can setup logs sending by bot"},{default:b(()=>[y(x,{"subinstance-title":"Log channel:","subinstance-description":"Please choose a log channel where bot may send logs"},{default:b(()=>[y(O,{clickButtonTitle:"Choose a channel",useChoosedElementAsTitle:!0,refChoosedElement:s(o).channels.filter(n=>n.id===(s(o)&&s(o).module_general?s(o).module_general.logChannel:void 0))[0],dropdownContent:s(o).channels.filter(n=>n.type===0),onChoose:r[0]||(r[0]=n=>{s(d).updateModuleProperty("general","logChannel",typeof n=="string"?n:n.id)})},null,8,["refChoosedElement","dropdownContent"])]),_:1}),y(x,{"subinstance-title":"Log types:","subinstance-description":"Please select types of logs to handle:"},{default:b(()=>[y(ne,{clickButtonTitle:"Choose types",refChoosedElements:s(o).module_general.logTypes?s(o).module_general.logTypes.map(n=>u.find(a=>a.id===n)||n):[],dropdownContent:u,onChoose:r[1]||(r[1]=n=>{s(d).updateModuleProperty("general","logTypes",n.map(a=>typeof a=="string"?a:a.id))})},null,8,["refChoosedElements"])]),_:1}),y(x,{"subinstance-title":"Log state:"},{default:b(()=>[l("div",{class:w(["state_checkbox",s(o).module_general.logEnabled?"enabled":"disabled"]),onClick:r[2]||(r[2]=n=>s(o)&&s(o).module_general&&(s(o).module_general.logEnabled?s(g)("general","logEnabled",!1):s(g)("general","logEnabled",!0)))},null,2)]),_:1})]),_:1})])):(t(),M(j,{key:1}))]))}}),ge=C({__name:"GeneralView",setup(c){return(u,d)=>(t(),M(fe))}});export{ge as default};
