import{b as t,u as e}from"./jwt-dc6be0b0.js";import{r as n}from"./index-2ecccbb3.js";async function l(o){const r=`${{}.VITE_API_URL}/api/discord/guilds/auth/redirect?discordGuildId=${o}`,a=window.open(r,"","width=500,height=900");a&&(await new Promise(i=>{const s=setInterval(async()=>{a.closed&&(clearInterval(s),i(void 0))},500)}),n.push(`/discord/guilds/${o}`))}async function u(o){try{await t.get(`/api/discord/guilds/auth/callback?${o.replace(/^\?/,"")}`),window.close()}catch(r){console.error(r),e().addError("Oops something went wrong and we cannot load guild.")}}export{l as a,u as l};
