import{useDiscordGuildStore as P}from"./discordGuild-7fefc472.js";import{d as w,r as B,A as b,C as H,D as y,o as d,c as T,w as f,h as c,t as v,v as n,f as _,F as j,p as L,n as r,q as k,E as N,G as x,H as I,a as C,I as q,g as O,j as G,J as R,T as z,i as M,K as V,M as F,N as J,z as K,L as Y}from"./index-bbf8b0ea.js";import"./loadUserGuilds-9c6c8c8e.js";const Q={class:"title"},U=["onClick"],W=["src"],X={key:1,class:"name"},Z={key:2,class:"name"},ee={key:3,class:"value"},se=w({__name:"DropdownChooseComponent",props:{clickButtonTitle:null,dropdownContent:null,initChoosedElement:null,useChoosedElementAsTitle:{type:Boolean},refChoosedElement:null,position:null,elem_class:null,title_class:null,content_class:null,noHideOnClickContent:{type:Boolean},useArrow:{type:Boolean},arrowAnimationSide:null,disableArrowAnimation:{type:Boolean}},emits:["choose"],setup(o,{emit:a}){const s=o;B(!1);const t=b(()=>({position:s.position,elem_class:s.elem_class,title_class:s.title_class,content_class:s.content_class,noHideOnClickContent:s.noHideOnClickContent,useArrow:s.useArrow||!0,arrowAnimationSide:s.arrowAnimationSide,disableArrowAnimation:s.disableArrowAnimation})),{dropdownContent:l,refChoosedElement:i}=H(s),u=s.refChoosedElement&&i?i:B(y.cloneDeep(s.initChoosedElement||void 0));function $(m){if(!s.refChoosedElement||!(i!=null&&i.value))u.value=m,a("choose",y.cloneDeep(u.value));else{const g=m;a("choose",y.cloneDeep(g))}}return(m,g)=>(d(),T(I,N(x({...n(t)})),{dropdownTitle:f(()=>[c("span",Q,v(o.useChoosedElementAsTitle&&n(u)?typeof n(u)=="string"?n(u):n(u).name:o.clickButtonTitle),1)]),default:f(()=>[(d(!0),_(j,null,L(n(l),e=>(d(),_("div",{class:r(["dropdown_content_elem",n(y).isEqual(n(u),e)&&"choosed"]),key:typeof e=="string"?e:e.name,onClick:p=>$(e)},[typeof e!="string"&&e.icon?(d(),_("img",{key:0,class:"icon",src:e.icon},null,8,W)):k("",!0),typeof e!="string"&&e.name?(d(),_("span",X,v(e.name),1)):k("",!0),typeof e=="string"?(d(),_("span",Z,v(e),1)):k("",!0),typeof e!="string"&&e.value?(d(),_("span",ee,v(e.value),1)):k("",!0)],10,U))),128))]),_:1},16))}}),ne={class:"title"},oe=["onClick"],te={class:"element"},le=["src"],ae={key:1,class:"name"},ie={key:2,class:"name"},de={key:3,class:"value"},ce=w({__name:"DropdownCheckboxComponent",props:{clickButtonTitle:null,dropdownContent:null,initChoosed:null,refChoosedElements:null,position:null,elem_class:null,title_class:null,content_class:null,noHideOnClickContent:{type:Boolean},useArrow:{type:Boolean},arrowAnimationSide:null,disableArrowAnimation:{type:Boolean}},emits:["choose"],setup(o,{emit:a}){const s=o;B(!1);const t=b(()=>({position:s.position,elem_class:s.elem_class,title_class:s.title_class,content_class:s.content_class,noHideOnClickContent:s.noHideOnClickContent,useArrow:s.useArrow||!0,arrowAnimationSide:s.arrowAnimationSide,disableArrowAnimation:s.disableArrowAnimation})),{dropdownContent:l,refChoosedElements:i}=H(s),u=s.refChoosedElements&&i&&typeof i.value<"u"?i:B(y.cloneDeep(s.initChoosed||[]));function $(m){const g=e=>(e=y.cloneDeep(e),e.filter(p=>y.isEqual(p,m))[0]?e=e.filter(p=>!y.isEqual(p,m)):e.push(m),e);if(!(i!=null&&i.value)||typeof i.value>"u")u.value=g(u.value),a("choose",y.cloneDeep(u.value));else{const e=g(i.value||[]);a("choose",y.cloneDeep(e))}}return(m,g)=>(d(),T(I,N(x({...n(t)})),{dropdownTitle:f(()=>[c("span",ne,v(o.clickButtonTitle),1)]),default:f(()=>[(d(!0),_(j,null,L(n(l),e=>(d(),_("div",{class:"dropdown_content_elem",key:typeof e=="string"?e:e.name,onClick:p=>$(e)},[c("i",{class:r(["checkbox",n(u).filter(p=>n(y).isEqual(p,e))[0]?"checked":"unchecked"])},null,2),c("div",te,[typeof e!="string"&&e.icon?(d(),_("img",{key:0,class:"icon",src:e.icon},null,8,le)):k("",!0),typeof e=="string"?(d(),_("span",ae,v(e),1)):(d(),_("span",ie,v(e.name),1)),typeof e!="string"&&e.value?(d(),_("span",de,v(e.value),1)):k("",!0)])],8,oe))),128))]),_:1},16))}}),re=w({__name:"BaseInstance",props:{instanceName:null,instanceDescription:null,instanceBaseClass:null,instanceAboutClass:null,instanceBodyClass:null,hiddenable:{type:Boolean}},setup(o){const a=o,s=b(()=>a.hiddenable||!0),t=B(!s.value);return(l,i)=>(d(),_("div",{class:r([l.$style.instance,o.instanceBaseClass])},[c("div",{class:r([l.$style.instance_title,o.instanceAboutClass]),onClick:i[0]||(i[0]=u=>n(s)&&(t.value=!t.value))},[c("h2",{class:r(l.$style.title)},v(o.instanceName),3),c("p",{class:r(l.$style.description)},v(o.instanceDescription),3),c("div",{class:r(l.$style.dropdown_arrow)},[C(q,{"arrow-state-show":t.value,"arrow-animation-side":"left",width:"3px","side-size":"12px","animation-speed":"400ms"},null,8,["arrow-state-show"])],2)],2),C(z,null,{default:f(()=>[O(c("div",{class:r([l.$style.instance_body,o.instanceBodyClass])},[G(l.$slots,"default",{},void 0,!0)],2),[[R,t.value]])]),_:3})],2))}});const ue="_hover_1_5kjng_1",_e="_hover_2_5kjng_9",pe="_instance_5kjng_17",ve="_row_5kjng_25",he="_instance_title_5kjng_29",me="_title_5kjng_39",ge="_description_5kjng_43",ye="_dropdown_arrow_5kjng_47",fe="_instance_body_5kjng_52",Ce={hover_1:ue,hover_2:_e,instance:pe,row:ve,instance_title:he,title:me,description:ge,dropdown_arrow:ye,instance_body:fe},we={$style:Ce},$e=M(re,[["__cssModules",we],["__scopeId","data-v-d9647f2a"]]),ke=w({__name:"SaveChanges",setup(o){const a=B(!1),s=B(),t=b({get(){return a.value},set(e){e?(a.value&&(clearTimeout(s.value),s.value=void 0),a.value=!0,s.value=setTimeout(()=>a.value=!1,820)):a.value=!1}}),l=P(),{guild:i,oldGuild:u}=V(l),{syncGuild:$,resetGuildChanges:m}=l,g=b(()=>!(!(i.value&&u.value)||y.isEqual(i.value,u.value)));return F(()=>{if(g.value)return t.value=!0,!1}),(e,p)=>(d(),T(z,null,{default:f(()=>[O(c("div",{class:r([e.$style.saveChangesAlert,n(t)&&e.$style["unsaved-changes-shake"]])},[c("div",{class:r(e.$style.unsavedText),onClick:p[0]||(p[0]=E=>t.value=!0)}," Careful! You have unsaved changes ",2),c("div",{class:r(e.$style.saveButtons)},[c("div",{class:r(e.$style.resetChangesButton),onClick:p[1]||(p[1]=(...E)=>n(m)&&n(m)(...E))}," Reset ",2),c("div",{class:r(e.$style.saveChangesButton),onClick:p[2]||(p[2]=(...E)=>n($)&&n($)(...E))}," Save changes ",2)],2)],2),[[R,n(g)]])]),_:1}))}}),Be="_hover_1_1c3ge_1",be="_hover_2_1c3ge_9",Ae="_saveChangesAlert_1c3ge_17",Ee="_saveButtons_1c3ge_17",De="_saveChangesButton_1c3ge_17",Te="_unsavedText_1c3ge_45",Me="_resetChangesButton_1c3ge_54",Se="_shake_1c3ge_1",je={hover_1:Be,hover_2:be,saveChangesAlert:Ae,saveButtons:Ee,saveChangesButton:De,unsavedText:Te,resetChangesButton:Me,"unsaved-changes-shake":"_unsaved-changes-shake_1c3ge_72",shake:Se};const Ge={$style:je},Pe=M(ke,[["__cssModules",Ge],["__scopeId","data-v-b3afed63"]]),He=w({__name:"BaseModule",props:{moduleName:null,moduleDescriprion:null,moduleBaseClass:null,moduleAboutClass:null,moduleBodyClass:null},setup(o){return(a,s)=>(d(),_(j,null,[c("div",{class:r(["discord-guild-module",[a.$style.module,o.moduleBaseClass]])},[c("div",{class:r([a.$style.module_about,o.moduleAboutClass])},[c("h1",null,v(o.moduleName),1),c("p",null,v(o.moduleDescriprion),1)],2),c("div",{class:r([a.$style.module_body,o.moduleBodyClass])},[G(a.$slots,"default")],2)],2),C(Pe)],64))}}),Le="_hover_1_1n47n_1",Ne="_hover_2_1n47n_9",xe="_module_1n47n_17",Ie="_module_about_1n47n_23",Oe="_module_body_1n47n_43",Re={hover_1:Le,hover_2:Ne,module:xe,module_about:Ie,module_body:Oe};const ze={$style:Re},Ve=M(He,[["__cssModules",ze]]),qe=w({__name:"BaseElement",props:{elementTitle:null,elementDescription:null,elementBaseClass:null,elementAboutClass:null,elementBodyClass:null,flexDirection:null,justifyContent:null},setup(o){const a=o,s=b(()=>a.flexDirection||"row"),t=b(()=>a.justifyContent||(s.value==="column"?"flex-start":"space-between"));return(l,i)=>(d(),_("div",{class:r(l.$style.element),style:J({flexDirection:n(s),justifyContent:n(t)})},[c("div",{class:r(l.$style.element_title)},[c("span",{class:r(l.$style.title)},v(o.elementTitle),3),o.elementDescription?(d(),_("span",{key:0,class:r(l.$style.description)},v(o.elementDescription),3)):k("",!0)],2),c("div",{class:r(l.$style.element_body)},[G(l.$slots,"default")],2)],6))}}),Fe="_hover_1_p9nfd_1",Je="_hover_2_p9nfd_9",Ke="_element_p9nfd_17",Ye="_row_p9nfd_25",Qe="_sbtw_p9nfd_29",Ue="_element_title_p9nfd_32",We="_title_p9nfd_39",Xe="_description_p9nfd_43",Ze={hover_1:Fe,hover_2:Je,element:Ke,row:Ye,sbtw:Qe,element_title:Ue,title:We,description:Xe},es={$style:Ze},S=M(qe,[["__cssModules",es]]),ss={key:0},ns={key:1,style:{width:"100px",height:"100px","align-self":"center"}},os=w({__name:"GeneralModule",setup(o){const a=[{name:"messageCreate",id:"messageCreate"}],s=P(),{guild:t,discordGuild:l}=V(s),{loadGuild:i,loadDiscordGuild:u,loadModule:$,updateModule:m,updateModuleProperty:g}=s,e=K(),p=typeof e.params.guild_id=="string"?e.params.guild_id:e.params.guild_id.join("");return t.value||i(p),l.value||u(p),(E,A)=>(d(),T(Ve,{"module-name":"General","module-descriprion":`        Bot general settings module. Here you can configure most of the
        important settings on your server.`},{default:f(()=>[n(l)&&n(t)?(d(),_("div",ss,[C($e,{"instance-name":"Logs","instance-description":"Here you can setup logs sending by bot"},{default:f(()=>[C(S,{"element-title":"Log channel:","element-description":"Please choose a log channel where bot may send logs"},{default:f(()=>[C(se,{clickButtonTitle:"Choose a channel",useChoosedElementAsTitle:!0,refChoosedElement:n(l).channels.filter(h=>h.id===(n(t)&&n(t).module_general?n(t).module_general.logChannel:void 0))[0],position:"bottom-right",dropdownContent:n(l).channels.filter(h=>h.type===0),onChoose:A[0]||(A[0]=h=>{n(s).updateModuleProperty("general","logChannel",typeof h=="string"?h:h.id)})},null,8,["refChoosedElement","dropdownContent"])]),_:1}),C(S,{"element-title":"Log types:","element-description":"Please select types of logs to handle:"},{default:f(()=>[C(ce,{clickButtonTitle:"Choose types",refChoosedElements:n(t).module_general.logTypes?n(t).module_general.logTypes.map(h=>a.find(D=>D.id===h)||h):[],dropdownContent:a,position:"bottom-right","no-hide-on-click-content":!0,onChoose:A[1]||(A[1]=h=>{n(s).updateModuleProperty("general","logTypes",h.map(D=>typeof D=="string"?D:D.id))})},null,8,["refChoosedElements"])]),_:1}),C(S,{"element-title":"Log state:"},{default:f(()=>[c("div",{class:r(["state_checkbox",n(t).module_general.logEnabled?"enabled":"disabled"]),onClick:A[2]||(A[2]=h=>n(t)&&n(t).module_general&&(n(t).module_general.logEnabled?n(g)("general","logEnabled",!1):n(g)("general","logEnabled",!0)))},null,2)]),_:1})]),_:1})])):(d(),_("div",ns,[C(Y,{"loader-type":"line"})]))]),_:1},8,["module-descriprion"]))}}),is=w({__name:"GeneralView",setup(o){return(a,s)=>(d(),T(os))}});export{is as default};
