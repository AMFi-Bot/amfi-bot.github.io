import{x as t,u as e,y as n}from"./index-c205e486.js";async function d(o){const r=`localhost:6001/api/discord/guilds/auth/redirect?discordGuildId=${o}`,a=window.open(r,"","width=500,height=900");a&&(await new Promise(i=>{const s=setInterval(async()=>{a.closed&&(clearInterval(s),i(void 0))},500)}),n.push(`/discord/guilds/${o}`))}async function l(o){try{await t.get(`/api/discord/guilds/auth/callback?${o.replace(/^\?/,"")}`),window.close()}catch(r){console.error(r),e().addError("Oops something went wrong and we cannot load guild.")}}export{d as a,l};
